---
lang: "java"
title: "Longest Contiguous Subsequence"
slug: "longest-contiguous-subsequence"
author: "Swaroop"
date: "Friday, 18 March 2022"
---
```java
// Given an array, find the length of the longest subsequence whose elements can be re-arranged in a strictly increasing contiguous order. 
// The difference between 2 adjacent elements in the subsequence, after re-arrangement, should be exactly 1.

// 10
// 18 -33 31 33 30 -14 32 30 16 17
// ans - 4( 33 31 30 32 )
// sorting and removing duplicates solution
public class Solution {

    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        int t = in.nextInt();
        while(t-- > 0){
            int n = in.nextInt();
            Set<Integer> set = new TreeSet<>();
            for(int i=0;i<n;i++){
                set.add(in.nextInt());
            }
            int k=0;
            int[] arr = new int[set.size()];
            for(int i : set){
                arr[k++] = i;
            }
            int i = 1, maxSize = 1;
            while(i<arr.length){
                int j=i;
                while(j<arr.length && arr[j]-arr[j-1] == 1){
                    j++;
                }
                maxSize = Math.max(j-i+1,maxSize);
                i=j+1;
            }
            System.out.println(maxSize);
        }
    }
}

// using set
public class Solution {

    public static void main(String[] args) throws Exception {
        Scanner in = new Scanner(System.in);
        int t = in.nextInt();
        while(t-- > 0){
            int n = in.nextInt();
            Set<Integer> set = new HashSet<>();
            for(int i=0;i<n;i++)    set.add(in.nextInt());
            int ans = 1;
            for(int i : set){
               // there exists another number which is smaller than curr num
               if(set.contains(i-1)) continue;
                int j = i;
                while(set.contains(j)){
                    j++;
                }
                ans = Math.max(ans,j-i);
            }
            System.out.println(ans);
        }
    }
}
```