---
lang: "java"
title: "Order Agnostic Binary search"
slug: "order-agnostic-binary-search"
author: "Swaroop"
date: "Wednesday, 2 March 2022"
---
```java
orderAgnosticBS(new int[]{1,2,3,4,5,5},3); // 2
orderAgnosticBS(new int[]{10,8,7,3,1},3); // 3
orderAgnosticBS(new int[]{3,3,3,3,3},3); // 0

//Works for both asc and desc ordered sequence.
int orderAgnosticBS(int[] arr, int target){
     int start = 0, end = arr.length - 1;
     if(arr[start] < arr[end]){ //asc order
          while(start <= end){
                int mid = start + (end - start) /2; //to prevent overflow
                if(arr[mid] == target) return mid;
                if(arr[mid] > target) end = mid -1;
                else start = mid + 1;
          }
      } else if(arr[start] > arr[end]){ //desc order
          while(start <= end){
                int mid = start + (end - start) /2;
                if(arr[mid] == target) return mid;
                if(arr[mid] > target) start = mid + 1;
                else end = mid -1;
          }
      } else { // all elements in sequence are same
          if(arr[start] == target)
                return start;
      }
      return -1;
}
```